// Page.h

#ifndef _PAGE_h
#define _PAGE_h

//index.html
const char index_html[] PROGMEM = R"(<!DOCTYPE html><html lang='en'><head> <meta charset='UTF-8'> <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no'/> <meta http-equiv='Cache-Control' content='no-cache, no-store, must-revalidate'/> <meta http-equiv='Pragma' content='no-cache'/> <title>WEB SCALES</title> <link rel='stylesheet' type='text/css' href='global.css'> <link rel='shortcut icon' href='favicon.png' type='image/png'> <style>#w_style{background: #fff; font-size: 80px; font-family: Arial, sans-serif; color: #618ad2; margin-left: auto; margin-right: auto;}table{width: 100%;}input{font-size: 20px; text-align: center;}</style> <script>var w; var d=document; function ScalesSocket(h, p, fm, fe){var host=h; var protocol=p; var timerWeight; var timerSocket; var ws; var startWeightTimeout=function(){clearTimeout(timerWeight); timerWeight=setTimeout(function(){fe();}, 5000);}; this.getWeight=function(){ws.send('/wt'); startWeightTimeout();}; this.openSocket=function(){ws=new WebSocket(host, protocol); ws.onopen=this.getWeight; ws.onclose=function(e){clearTimeout(timerWeight); starSocketTimeout(); fe();}; ws.onerror=function(e){fe();}; ws.onmessage=function(e){fm(JSON.parse(e.data));}}; var starSocketTimeout=function(){clearTimeout(timerSocket); timerSocket=setTimeout(function(){this.prototype.openSocket();}, 5000);}}function go(){d.getElementById('weight').innerHTML='---'; d.getElementById('charge_id').innerHTML='--%'; d.getElementById('buttonZero').style.visibility='visible';}function setZero(){d.getElementById('buttonZero').style.visibility='hidden'; var r=new XMLHttpRequest(); d.getElementById('weight').innerHTML='...'; r.onreadystatechange=function(){if (r.readyState===4 && r.status===204){d.getElementById('buttonZero').style.visibility='visible'; w.getWeight();}}; r.open('GET', '/tp', true); r.timeout=5000; r.ontimeout=function(){go();}; r.onerror=function(){go();}; r.send(null);}window.onload=function(){onBodyLoad();}; function onBodyLoad(){w=new ScalesSocket('ws://' + d.location.host + '/ws', ['arduino'], function(e){try{d.getElementById('weight').innerHTML=e.w; d.getElementById('charge_id').innerHTML=e.c + '%'; if (e.s){d.getElementById('w_style').setAttribute('style', 'background: #fff;');}else{d.getElementById('w_style').setAttribute('style', 'background: #C4C4C4;');}}catch (e){go();}finally{w.getWeight();}}, function(){go(); w.openSocket();}); w.openSocket();}</script></head><body><div align='center'> <table> <tr> <td><img src='scales.png' style='height: 42px;'/></td><td align='right'> <h3 id='brand_name'>scale.in.ua</h3></td></tr></table> <p hidden='hidden' id='dnt'></p></div><hr><div align='right' id='w_style'><b id='weight'>---</b></div><hr><table> <tr> <td style='width:1%; white-space: nowrap'><img src='battery.png' alt='B'/></td><td> <h3 id='charge_id' style='display: inline'>--%</h3></td><td align='right'><b><a href='javascript:setZero()' id='buttonZero' class='btn btn--s btn--blue'>&gt;0&lt;</a></b></td></tr></table><hr><table> <tr> <td><a href='/events.html' class='btn btn--m btn--blue'>события</a> <br></td></tr><tr> <td> <br/><a href='/settings.html'>настройки</a> <br></td></tr></table><hr><footer align='center'>2018 © Powered by www.scale.in.ua</footer></body></html>)";

//calibr.html
const char calibr_html[] PROGMEM = R"(<!DOCTYPE html><html lang='en'><head> <meta charset='UTF-8'> <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no'/> <meta http-equiv='Cache-Control' content='no-cache, no-store, must-revalidate'/> <meta http-equiv='Pragma' content='no-cache'/> <title>Калибровка</title> <link rel='shortcut icon' href='favicon.png' type='image/png'> <style>#wt_id{display: inline; background: #fff; font-size: 28px; font-family: Arial, sans-serif; color: #618ad2; margin-left: auto; margin-right: auto;}table{width: 100%;}input{width: 100%; text-align: right; font-size: 18px; height: auto;}input[type='submit']{width: auto;}select{width: 100%; text-align-last: right; font-size: 18px; height: auto; border: 1px solid #ccc;}</style> <script>window.onload=function (){load('global.css','css', function (){load('calibr.js', 'js',function (){GetSettings();})});}; function load(e, t, n){let a; var d=document; if ('js'===t){a=d.createElement("script"); a.src=e; a.type='text/javascript'; a.async=!1; a.onload=function (){n()}; d.getElementsByTagName('head')[0].appendChild(a)}else if ('css'===t){a=d.createElement('link'); a.href=e; a.rel='stylesheet'; a.type='text/css'; a.async=!1; a.onload=function (){n()}; d.getElementsByTagName('head')[0].appendChild(a)}}</script></head><body style='visibility: hidden'><a href='/settings.html' class='btn btn--s btn--blue'>&lt;</a>&nbsp;&nbsp;<strong>Калибровка</strong><hr><fieldset id='form_max'> <legend>Общии настройки</legend> <form id='form_c_id' action='javascript:setMax()'> <table> <tr> <td>Точность измерения</td><td> <select id='ac_id' name='weightAccuracy' title='Знак после запятой'> <option name='0' value='0'>0</option> <option name='0.0' value='1'>0.0</option> <option name='0.00' value='2'>0.00</option> <option name='0.000' value='3'>0.000</option> </select> </td></tr><tr> <td>Шаг измерения</td><td> <select id='st_id' name='weightStep' title='Дискретность измерения'> <option name='шаг 1' value='1'>1</option> <option name='шаг 2' value='2'>2</option> <option name='шаг 5' value='5'>5</option> <option name='шаг 10' value='10'>10</option> <option name='шаг 20' value='20'>20</option> <option name='шаг 50' value='50'>50</option> </select> </td></tr><tr> <td>Кол-во измерений</td><td> <select id='av_id' name='weightAverage' title='Измерение АЦП'> <option name='одно' value='1'>ОДИН</option> <option name='два' value='2'>ДВА</option> </select> </td></tr><tr> <td>Фильтр</td><td> <select id='fl_id' name='weightFilter' title='Фильтр. Меньше значение больше фильтрация'> <option name='5%' value='5'>5 %</option> <option name='10%' value='10'>10 %</option> <option name='20%' value='20'>20 %</option> <option name='30%' value='30'>30 %</option> <option name='40%' value='40'>40 %</option> <option name='50%' value='50'>50 %</option> <option name='60%' value='60'>60 %</option> <option name='70%' value='70'>70 %</option> <option name='80%' value='80'>80 %</option> <option name='90%' value='90'>90 %</option> <option name='100%' value='100'>100 %</option> </select> </td></tr><tr> <td>НВП</td><td> <input title='Максимальный вес' type='number' min='1' max='100000' id='mw_id' name='weightMax' placeholder='Найбольший предел'> </td></tr><tr> <td><a href='javascript:saveValue();'>сохранить и выйти</a></td><td> <input id='id_bs' type='submit' value='ДАЛЬШЕ >>'/> </td></tr></table> </form></fieldset><fieldset> <details> <summary>Авторизация для калибровки</summary> <form method='POST'> <table> <tr> <td>ИМЯ:</td><td> <input id='us_id' name='user' placeholder='имя админ'> </td></tr><tr> <td>ПАРОЛЬ:</td><td> <input type='password' id='ps_id' name='pass' placeholder='пароль админ'> </td></tr><tr> <td></td><td> <input type='submit' value='СОХРАНИТЬ'/> </td></tr></table> </form> </details></fieldset></body></html>)";

const char global_css[] PROGMEM = R"(html{background: #ffffff;}body{font-family: Arial, sans-serif;width: 330px;height: auto;margin-right: auto;margin-left: auto;border: 5px solid #d3d3d3;background: #d3d3d3;}h1{margin: inherit;}h2{margin: auto;}h4,h5{margin: auto;}fieldset{background: #c1c1c1;border: 0px;}#brand_name{color: white;text-align: right;}img{width:auto;height:30px;}footer{font-family: Arial, sans-serif;font-size: small;}.btn, .btn:link, .btn:visited {display: inline-block;text-decoration: none;text-transform: uppercase;}.btn:hover, .btn:focus {color: white;}.btn--s {padding: 0.5em;}.btn--m {padding: 0.5em;width: 100%;padding-left: 0px;padding-right: 0px;}.btn--full, .btn--full:link {display: block;margin-left: auto;margin-right: auto;text-align: center;width: 100%;}.btn--blue:link, .btn--blue:visited {background-color: #c1c1c1;}.btn--blue:hover, .btn--blue:focus {background-color: #a0a0a0;})";
#endif







